(()=>{"use strict";var e={960:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,n){this.name=t,this.numberToVote=n,this.numberOfVotes=0,e.instance+=1}return Object.defineProperty(e.prototype,"Name",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NumberToVote",{get:function(){return this.numberToVote},set:function(e){this.numberToVote=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TotalNumberOfVotes",{get:function(){return this.numberOfVotes},enumerable:!1,configurable:!0}),e.prototype.addNumberOfVotes=function(){this.numberOfVotes+=1},e.prototype.getId=function(){return e.instance},e.instance=0,e}();t.default=n},120:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.pollQuestion=e,this.options=[]}return Object.defineProperty(e.prototype,"PollQuestion",{get:function(){return this.pollQuestion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Options",{get:function(){return this.options},enumerable:!1,configurable:!0}),e.prototype.addOption=function(e){if(console.log("options:",this.Options),!this.checksRepeatedOptions(e)||!this.checkRepeatedVote(e.NumberToVote))throw new Error('the option "'+e.Name+'" already exists, or the number is repeated');this.options.push(e)},e.prototype.checkIfVoteExists=function(e){return-1!==this.options.findIndex((function(t){return t.NumberToVote===e}))},e.prototype.checkRepeatedVote=function(e){return-1===this.options.findIndex((function(t){return t.NumberToVote===e}))},e.prototype.checksRepeatedOptions=function(e){return-1===this.Options.findIndex((function(t){return t.Name===e.Name}))},e.prototype.addVote=function(e){if(!this.checkIfVoteExists(e))throw new Error("no option matches the number "+e);var t=this.options.findIndex((function(t){return t.NumberToVote===e}));this.Options[t].addNumberOfVotes()},e}();t.default=n},125:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.votations=[]}return e.prototype.addVotation=function(e){this.votations.push(e)},Object.defineProperty(e.prototype,"Votations",{get:function(){return this.votations},enumerable:!1,configurable:!0}),e}();t.default=n},607:function(e,t,n){var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,r++)o[r]=i[u];return o},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(960)),u=r(n(125)),a=r(n(120)),s=document.querySelector("form"),c=document.querySelector(".add-option"),d=s.querySelector("#option"),l=s.querySelector("#numberOption"),p=document.querySelector("#poll"),f=0,m=[];var h=function(e){var t=e.Votations.map((function(e){var t=document.createElement("div");return t.classList.add("votation-card"),t.innerHTML="<h2>"+e.PollQuestion+"</h2>",e.Options.forEach((function(o){var r=document.createElement("div");r.classList.add("option");var i=document.createElement("p");i.innerHTML="<p>"+o.Name+"</p>";var u=document.createElement("p");u.innerHTML="\n        <p>\n          Total votes: <span id="+o.NumberToVote+' class="total-votes">'+o.TotalNumberOfVotes+"</span>\n        </p>\n      ";var a=document.createElement("button");a.innerText="Vote",a.classList.add("vote-button"),a.addEventListener("click",(function(){n(o.NumberToVote,e,o)})),r.appendChild(i),r.appendChild(u),r.appendChild(a),t.appendChild(r)})),t})),n=function(e,t,n){try{t.addVote(e),document.getElementById(""+n.NumberToVote).innerText=String(n.TotalNumberOfVotes)}catch(e){alert(e.message)}};t.forEach((function(e){var t;null===(t=document.querySelector(".list-votings"))||void 0===t||t.appendChild(e)}))};c.addEventListener("click",(function(){!function(){var e;f++,m.push(new i.default(d.value,Number(l.value)));var t=document.createElement("span");t.classList.add("option-span"),t.innerHTML=d.value+" - "+l.value;var n=document.createElement("button");n.classList.add("remove-option"),n.innerText="remove",t.appendChild(n),n.addEventListener("click",(function(){var e;!function(e){var t=m.findIndex((function(t){return t.getId()===e}));m.splice(t,1)}(f),null===(e=this.parentElement)||void 0===e||e.remove()})),null===(e=c.parentElement)||void 0===e||e.insertAdjacentElement("afterend",t)}()})),s.addEventListener("submit",(function(e){e.preventDefault(),function(e){if(e.length>0&&""!==p.value){var t=o(m);m.concat(t);try{var n=new a.default(p.value);e.forEach((function(e){return n.addOption(e)}));var r=new u.default;r.addVotation(n),h(r),function(){for(var e=document.querySelectorAll(".option-span"),t=0;t<e.length;t++)e[t].remove();m=[],d.value="",l.value="",p.value=""}()}catch(e){alert(e.message)}}}(m)}))}},t={};!function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(607)})();