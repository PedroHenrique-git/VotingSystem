(()=>{"use strict";var e={960:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,n){this.name=t,this.numberToVote=n,this.numberOfVotes=0,e.instance+=1}return Object.defineProperty(e.prototype,"Name",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NumberToVote",{get:function(){return this.numberToVote},set:function(e){this.numberToVote=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TotalNumberOfVotes",{get:function(){return this.numberOfVotes},enumerable:!1,configurable:!0}),e.prototype.addNumberOfVotes=function(){this.numberOfVotes+=1},e.prototype.getId=function(){return e.instance},e.instance=0,e}();t.default=n},120:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.pollQuestion=e,this.options=[]}return Object.defineProperty(e.prototype,"PollQuestion",{get:function(){return this.pollQuestion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Options",{get:function(){return this.options},enumerable:!1,configurable:!0}),e.prototype.addOption=function(e){if(this.checksRepeatedOptions(e))throw new Error('the option "'+e.Name+'" already exists');this.options.push(e)},e.prototype.checkIfVoteExists=function(e){return-1!==this.options.findIndex((function(t){return t.NumberToVote===e}))},e.prototype.checksRepeatedOptions=function(e){return-1!==this.Options.findIndex((function(t){return t.Name===e.Name}))},e.prototype.addVote=function(e){if(!this.checkIfVoteExists(e))throw new Error("no option matches the number "+e);var t=this.options.findIndex((function(t){return t.NumberToVote===e}));this.Options[t].addNumberOfVotes()},e}();t.default=n},125:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.votations=[]}return e.prototype.addVotation=function(e){this.votations.push(e)},e.prototype.showOptions=function(e){e.forEach((function(e){console.log(e.Name+" - "+e.TotalNumberOfVotes)}))},Object.defineProperty(e.prototype,"Votations",{get:function(){return this.votations},enumerable:!1,configurable:!0}),e}();t.default=n},607:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(960)),i=o(n(125)),u=o(n(120)),a=document.querySelector("form"),c=document.querySelector(".add-option"),s=0,d=[];c.addEventListener("click",(function(){!function(){var e;s++;var t=a.querySelector("#option"),n=a.querySelector("#numberOption");d.push(new r.default(t.value,Number(n.value)));var o=document.createElement("span");o.innerHTML=t.value+" - "+n.value;var i=document.createElement("button");i.classList.add("remove-option"),i.innerText="remove",o.appendChild(i),i.addEventListener("click",(function(){var e;!function(e){var t=d.filter((function(t){return t.getId()!==e}));d=t}(s),null===(e=this.parentElement)||void 0===e||e.remove()})),null===(e=c.parentElement)||void 0===e||e.insertAdjacentElement("afterend",o)}()})),a.addEventListener("submit",(function(e){e.preventDefault(),function(e){var t=document.querySelector("#poll");if(e.length>0&&""!==t.value)try{var n=new u.default(t.value);e.forEach((function(e){return n.addOption(e)}));var o=new i.default;o.addVotation(n),function(e){var t=e.Votations.map((function(e){var t=document.createElement("div");return t.classList.add("votation-card"),t.innerHTML="<h2>"+e.PollQuestion+"</h2>",e.Options.forEach((function(o){var r=document.createElement("div");r.classList.add("option");var i=document.createElement("p");i.innerHTML="<p>"+o.Name+"</p>";var u=document.createElement("p");u.innerHTML='\n        <p>\n          Total votes: <span class="total-votes">'+o.TotalNumberOfVotes+"</span>\n        </p>\n      ";var a=document.createElement("button");a.innerText="Vote",a.classList.add("vote-button"),a.addEventListener("click",(function(){n(o.NumberToVote,e,o)})),r.appendChild(i),r.appendChild(u),r.appendChild(a),t.appendChild(r)})),t})),n=function(e,t,n){try{t.addVote(e),document.getElementById(""+n.NumberToVote).innerText=String(n.TotalNumberOfVotes)}catch(e){alert(e.message)}};t.forEach((function(e){var t;null===(t=document.querySelector(".list-votings"))||void 0===t||t.appendChild(e)}))}(o)}catch(e){alert(e.message)}}(d)}))}},t={};!function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(607)})();